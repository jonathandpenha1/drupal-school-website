/* @license GNU-GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,debounce,once){'use strict';Drupal.behaviors.webformFilterByText={attach:function(context,settings){$(once('webform-form-filter-text','input.webform-form-filter-text',context)).each(function(){var $input=$(this);$input.wrap('<div class="webform-form-filter"></div>');var $reset=$('<input class="webform-form-filter-reset" type="reset" title="Clear the search query." value="âœ•" style="display: none" />');$reset.insertAfter($input);var $table=$($input.data('element'));var $summary=$($input.data('summary'));var $noResults=$($input.data('no-results'));var $details=$table.closest('details');var $filterRows;var focusInput=$input.data('focus')||'true';var sourceSelector=$input.data('source')||'.webform-form-filter-text-source';var parentSelector=$input.data('parent')||'tr';var selectedSelector=$input.data('selected')||'';var hasDetails=$details.length;var totalItems;var args={'@item':$input.data('item-singular')||Drupal.t('item'),'@items':$input.data('item-plural')||Drupal.t('items'),'@total':null};if($table.length){$filterRows=$table.find(sourceSelector);var off=/chrom(e|ium)/.test(window.navigator.userAgent.toLowerCase())?'chrome-off-'+Math.floor(Math.random()*100000000):'off';$input.attr('autocomplete',off).on('keyup',debounce(filterElementList,200)).keyup();$reset.on('click',resetFilter);if(focusInput==='true')setTimeout(function(){$input.trigger('focus');});}function resetFilter(e){$input.val('').keyup();$input.trigger('focus');}function filterElementList(e){var query=$(e.target).val().toLowerCase();if(query.length>=2){totalItems=0;if($details.length)$details.hide();$filterRows.each(toggleEntry);Drupal.announce(Drupal.formatPlural(totalItems,'1 @item is available in the modified list.','@total @items are available in the modified list.',args));}else{totalItems=$filterRows.length;$filterRows.each(function(index){$(this).closest(parentSelector).show();if($details.length)$details.show();});}args['@total']=totalItems;$noResults[totalItems?'hide':'show']();$reset[query.length?'show':'hide']();if($summary.length){$summary.html(Drupal.formatPlural(totalItems,'1 @item','@total @items',args));$summary[totalItems?'show':'hide']();}function toggleEntry(index,label){var $label=$(label);var $row=$label.closest(parentSelector);var textMatch=$label.text().toLowerCase().indexOf(query)!==-1;var isSelected=(selectedSelector&&$row.find(selectedSelector).length)?true:false;var isVisible=textMatch||isSelected;$row.toggle(isVisible);if(isVisible){totalItems++;if(hasDetails)$row.closest('details').show();}}}});}};})(jQuery,Drupal,Drupal.debounce,once);;
(function($,Drupal,debounce,once){'use strict';Drupal.behaviors.webformFilterAutocomplete={attach:function(context){$(once('webform-autocomplete','.webform-filter-form input.form-autocomplete',context)).each(function(){if(/\(([^)]+)\)$/.test(this.value))this.value=this.defaultValue;$(this).bind('autocompleteselect',function(event,ui){if(ui.item){$(this).val(ui.item.value);$(this.form).trigger('submit');}});});}};Drupal.behaviors.webformTableRowHref={attach:function(context){$(once('webform-results-table','.webform-results-table',context)).on('click',function(event){if(event.target.tagName==='A'||event.target.tagName==='BUTTON'||event.target.tagName==='INPUT')return true;if($(event.target).parents('a[href]').length||$(event.target).parents('.dropbutton-widget').length)return true;var $input=$(event.target).closest('td').find('input');if($input.length){if($input.attr('type')==='checkbox')$input.click();return true;}var $tr=$(event.target).parents('tr[data-webform-href]');if(!$tr.length)return true;window.location=$tr.attr('data-webform-href');return false;});}};})(jQuery,Drupal,Drupal.debounce,once);;
(function($,Drupal,once){'use strict';var tooltipDefaultOptions={delay:100};Drupal.webform=Drupal.webform||{};Drupal.webform.tooltipElement=Drupal.webform.tooltipElement||{};Drupal.webform.tooltipElement.options=Drupal.webform.tooltipElement.options||tooltipDefaultOptions;Drupal.webform.tooltipLink=Drupal.webform.tooltipLink||{};Drupal.webform.tooltipLink.options=Drupal.webform.tooltipLink.options||tooltipDefaultOptions;Drupal.behaviors.webformTooltipElement={attach:function(context){if(!window.tippy)return;$(once('webform-tooltip-element','.js-webform-tooltip-element',context)).each(function(){var $element=$(this);var $description;if($element.is('fieldset'))$description=$element.find('> .fieldset-wrapper > .description > .webform-element-description.visually-hidden');else $description=$element.find('> .description > .webform-element-description.visually-hidden');var options=$.extend({content:$description.html(),allowHTML:true},Drupal.webform.tooltipElement.options);tippy(this,options);});}};Drupal.behaviors.webformTooltipLink={attach:function(context){if(!window.tippy)return;$(once('webform-tooltip-link','.js-webform-tooltip-link',context)).each(function(){var title=$(this).attr('title');if(title){var options=$.extend({content:title,allowHTML:true},Drupal.webform.tooltipLink.options);tippy(this,options);}});}};})(jQuery,Drupal,once);;
(($,Drupal)=>{function DetailsSummarizedContent(node){this.$node=$(node);this.setupSummary();}$.extend(DetailsSummarizedContent,{instances:[]});$.extend(DetailsSummarizedContent.prototype,{setupSummary(){this.$detailsSummarizedContentWrapper=$(Drupal.theme('detailsSummarizedContentWrapper'));this.$node.on('summaryUpdated',$.proxy(this.onSummaryUpdated,this)).trigger('summaryUpdated').find('> summary').append(this.$detailsSummarizedContentWrapper);},onSummaryUpdated(){const text=this.$node.drupalGetSummary();this.$detailsSummarizedContentWrapper.html(Drupal.theme('detailsSummarizedContentText',text));}});Drupal.behaviors.detailsSummary={attach(context){DetailsSummarizedContent.instances=DetailsSummarizedContent.instances.concat(once('details','details',context).map((details)=>new DetailsSummarizedContent(details)));}};Drupal.DetailsSummarizedContent=DetailsSummarizedContent;Drupal.theme.detailsSummarizedContentWrapper=()=>`<span class="summary"></span>`;Drupal.theme.detailsSummarizedContentText=(text)=>text?` (${text})`:'';})(jQuery,Drupal);;
(function($,Drupal){Drupal.behaviors.detailsAria={attach(){$(once('detailsAria','body')).on('click.detailsAria','summary',(event)=>{const $summary=$(event.currentTarget);const open=$(event.currentTarget.parentNode).attr('open')==='open'?'false':'true';$summary.attr({'aria-expanded':open,'aria-pressed':open});});}};})(jQuery,Drupal);;
(function($){const handleFragmentLinkClickOrHashChange=(e,$target)=>{$target.parents('details').not('[open]').find('> summary').trigger('click');};$('body').on('formFragmentLinkClickOrHashChange.details',handleFragmentLinkClickOrHashChange);})(jQuery);;
